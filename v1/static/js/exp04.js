$(document).ready(function(){
    $("#calculate").click(function(){
        //table1
        let L=Number($("#l_vard").val())
        let M=Number($("#m_vard").val())
        let H=Number($("#h_vard").val())
        for(let i=1;i<=9;i++){
            let T1=Number($(`#dt1${i}`).val())
            let T2=Number($(`#dt2${i}`).val())
            let V1=(L/T1).toFixed(3)
            let V2=(L/T2).toFixed(3)
            $(`#V1${i}`).text(V1)
            $(`#V2${i}`).text(V2)
            let KE0 = (0.5*M*(V1*V1)).toFixed(3)
            let KE1 = (0.5*M*(V2*V2)).toFixed(3)
            $(`#KE0${i}`).text(KE0)
            $(`#KE1${i}`).text(KE1)
            let DIFKE = (KE1-KE0).toFixed(3)
            $(`#DIFKE${i}`).text(DIFKE)
            let DIFPE = (M*9.8*H).toFixed(3)
            $(`#DIFPE${i}`).text(DIFPE)
            let ERR = ((Math.abs(DIFKE-DIFPE))/DIFPE*100).toFixed(2)
            $(`#ERR${i}`).text(ERR)
        }
        //table2
        L=Number($("#l_varm").val())
        H=Number($("#h_varm").val())
        M=Number($("#m_varm").val())
        const M_list = [0,0.1,0.2]
        for(let i=1;i<=9;i++){
            let T1=Number($(`#mt1${i}`).val())
            console.log(T1)
            let T2=Number($(`#mt2${i}`).val())
            console.log(T2)
            let V1=(L/T1).toFixed(3)
            let V2=(L/T2).toFixed(3)
            $(`#MV1${i}`).text(V1)
            $(`#MV2${i}`).text(V2)
            let KE0 = (0.5*(M_list[parseInt((i-1)/3)]+M)*(V1*V1)).toFixed(3)
            let KE1 = (0.5*(M_list[parseInt((i-1)/3)]+M)*(V2*V2)).toFixed(3)
            $(`#MKE0${i}`).text(KE0)
            $(`#MKE1${i}`).text(KE1)
            let DIFKE = (KE1-KE0).toFixed(3)
            $(`#MDIFKE${i}`).text(DIFKE)
            let DIFPE = ((M_list[parseInt((i-1)/3)]+M)*9.8*H).toFixed(3)
            $(`#MDIFPE${i}`).text(DIFPE)
            let ERR = ((Math.abs(DIFKE-DIFPE))/DIFPE*100).toFixed(2)
            $(`#MERR${i}`).text(ERR)
        }
        //table3
        L=Number($("#l_varh").val())
        M=Number($("#m_varh").val())
        const H_list = [0.08,0.1,0.12]
        for(let i=1;i<=9;i++){
            let T1=Number($(`#ht1${i}`).val())
            console.log(T1)
            let T2=Number($(`#ht2${i}`).val())
            console.log(T2)
            let V1=(L/T1).toFixed(3)
            let V2=(L/T2).toFixed(3)
            $(`#HV1${i}`).text(V1)
            $(`#HV2${i}`).text(V2)
            let KE0 = (0.5*M*(V1*V1)).toFixed(3)
            let KE1 = (0.5*M*(V2*V2)).toFixed(3)
            $(`#HKE0${i}`).text(KE0)
            $(`#HKE1${i}`).text(KE1)
            let DIFKE = (KE1-KE0).toFixed(3)
            $(`#HDIFKE${i}`).text(DIFKE)
            let DIFPE = (M*9.8*(H_list[parseInt((i-1)/3)])).toFixed(3)
            $(`#HDIFPE${i}`).text(DIFPE)
            let ERR = ((Math.abs(DIFKE-DIFPE))/DIFPE*100).toFixed(3)
            $(`#HERR${i}`).text(ERR)
        }
    })
    $("#clear").click(function(){
        $("#l_vard").val('')
        $("#m_vard").val('')
        $("#h_vard").val('')
        $("#l_varm").val('')
        $("#h_varm").val('')
        $("#m_varm").val('')
        $("#l_varh").val('')
        $("#m_varh").val('')
        $("#d_varm").val('')
        $("#d_varh").val('')
        for(let i=1;i<=9;i++){
            $(`#dt1${i}`).val('')
            $(`#dt2${i}`).val('')
            $(`#V1${i}`).text('')
            $(`#V2${i}`).text('')
            $(`#KE0${i}`).text('')
            $(`#KE1${i}`).text('')
            $(`#DIFKE${i}`).text('')
            $(`#DIFPE${i}`).text('')
            $(`#ERR${i}`).text('')
            $(`#mt1${i}`).val('')
            $(`#mt2${i}`).val('')
            $(`#MV1${i}`).text('')
            $(`#MV2${i}`).text('')
            $(`#MKE0${i}`).text('')
            $(`#MKE1${i}`).text('')
            $(`#MDIFKE${i}`).text('')
            $(`#MDIFPE${i}`).text('')
            $(`#MERR${i}`).text('')
            $(`#ht1${i}`).val('')
            $(`#ht2${i}`).val('')
            $(`#HV1${i}`).text('')
            $(`#HV2${i}`).text('')
            $(`#HKE0${i}`).text('')
            $(`#HKE1${i}`).text('')
            $(`#HDIFKE${i}`).text('')
            $(`#HDIFPE${i}`).text('')
            $(`#HERR${i}`).text('')
        }
    })
})